should expose ports from extraContainers:
  1: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: common-test
        app.kubernetes.io/version: 0.1.0
        common/workload: default
        helm.sh/chart: common-test-0.1.0
      name: RELEASE-NAME-common-test
      namespace: NAMESPACE
    spec:
      ports:
        - name: default
          port: null
          protocol: TCP
          targetPort: null
        - name: mariadb
          port: 3306
          protocol: TCP
          targetPort: 3306
      selector:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/name: common-test
        common/workload: default
      type: ClusterIP
  2: |
    - image: busybox:0.1.0
      livenessProbe:
        tcpSocket:
          port: default
      name: common-test
      ports:
        - containerPort: null
          name: default
          protocol: TCP
      readinessProbe:
        tcpSocket:
          port: default
    - image: mariadb:latest
      name: db
      ports:
        - containerPort: 3306
          name: mariadb
          protocol: TCP
should overwrite defaults:
  1: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: common-test
        app.kubernetes.io/version: 0.1.0
        common/workload: default
        helm.sh/chart: common-test-0.1.0
      name: RELEASE-NAME-common-test
      namespace: NAMESPACE
    spec:
      loadBalancerIP: 192.168.0.1
      ports:
        - name: default
          nodePort: 80
          port: 8080
          protocol: TCP
          targetPort: 80
      selector:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/name: common-test
        common/workload: default
      type: ClusterIP
  2: |
    - containerPort: 80
      name: default
      protocol: TCP
should pass:
  1: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: common-test
        app.kubernetes.io/version: 0.1.0
        common/workload: default
        helm.sh/chart: common-test-0.1.0
      name: RELEASE-NAME-common-test
      namespace: NAMESPACE
    spec:
      ports:
        - name: default
          port: 80
          protocol: TCP
          targetPort: 80
        - name: https
          port: 443
          protocol: TCP
          targetPort: 443
      selector:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/name: common-test
        common/workload: default
      type: ClusterIP
  2: |
    - containerPort: 80
      name: default
      protocol: TCP
    - containerPort: 443
      name: https
      protocol: TCP
